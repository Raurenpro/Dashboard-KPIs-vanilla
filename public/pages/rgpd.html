<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="module" src="/main.js"></script>
    <title>Chart.js with Vite</title>
  </head>

  <body>
    <div class="w-screen h-screen bg-black text-white">
      <div class="flex w-full h-full">
        <div class="flex flex-col w-[15%] h-full bg-zinc-800 border-r border-zinc-600">
          <div class="bg-clip-text text-transparent bg-gradient-to-r from-pink-500 to-violet-500 text-center text-3xl font-bold pb-20 m-5 select-none">Dashboard KPI</div>
          <div class="flex flex-col h-full font-bold text-lg space-y-2">
            <div class="text-xl text-violet-500 py-3 pl-5 select-none">
              Menu
            </div>
            <a href="../../index.html" class="py-3 pl-5 cursor-pointer hover:bg-pink-700 transition duration-150">
                Tableau de bord SI
            </a>
            <a href="/pages/vulnerabilite.html" class="py-3 pl-5 bg-gradient-to-r from-pink-800 cursor-pointer hover:bg-pink-700 transition duration-150">
                Vulnérabilités
            </a>
            <a href="/pages/planAction.html" class="py-3 pl-5 cursor-pointer hover:bg-pink-700 transition duration-150">
                Plan d'action
            </a>
            <a href="/pages/rgpd.html" class="py-3 pl-5 cursor-pointer hover:bg-pink-700 transition duration-150">
                RGPD
            </a>
          </div>
        </div>
        <div class="flex flex-col w-[85%] h-full">
          <div class="flex h-[10%] w-full items-center bg-zinc-800 border-b border-zinc-600 space-x-2 px-5">
            <div class="flex w-[25%] h-full items-center text-center justify-center p-2 font-bold cursor-pointer transition duration-150 hover:bg-sky-700" id="title-1">
              Détail des vulnérabilités
            </div>
            <div class="flex w-[25%] h-full items-center text-center justify-center p-2 font-bold cursor-pointer transition duration-150 hover:bg-yellow-700" id="title-2">
              Titre 2
            </div>
          </div>
          <div class="flex h-[90%] w-full p-4">
            RGPD
        </div>
        </div>
      </div>
    </div>

    <script type="module">

function updatePageContent(titleId) {
        // Mettre à jour la couleur de fond du titre cliqué
        const titles = document.querySelectorAll('[id^="title-"]');
        titles.forEach(title => {
          title.classList.remove('from-sky-800', 'from-yellow-800');
        });

        const activeTitle = document.getElementById(titleId);
        if (activeTitle) {
          switch (titleId) {
            case 'title-1':
              activeTitle.classList.add('bg-gradient-to-b', 'from-sky-800');
              break;
            case 'title-2':
              activeTitle.classList.add('bg-gradient-to-b', 'from-yellow-800');
              break;
          }
        }
      }

      document.addEventListener('DOMContentLoaded', () => {
        const titles = document.querySelectorAll('[id^="title-"]');
        titles.forEach(title => {
          title.addEventListener('click', (event) => {
            const titleId = event.target.id;
            updatePageContent(titleId);
          });
        });

        // Initialiser avec la première page
        updatePageContent('title-1');
      });
    </script>
  </body>
</html>
